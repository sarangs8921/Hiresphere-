<!doctype html>
<html lang="en">

<head>
  <title>Hiresphere &mdash; Hiresphere</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


  <link rel="stylesheet" href="css/custom-bs.css">
  <link rel="stylesheet" href="css/jquery.fancybox.min.css">
  <link rel="stylesheet" href="css/bootstrap-select.min.css">
  <link rel="stylesheet" href="fonts/icomoon/style.css">
  <link rel="stylesheet" href="fonts/line-icons/style.css">
  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <link rel="stylesheet" href="css/animate.min.css">
  <link rel="stylesheet" href="css/quill.snow.css">

  <style>
    .signuplnk {
      margin-left: 40%;
      color: #89ba16;
    }
  </style>


  <!-- MAIN CSS -->
  <link rel="stylesheet" href="css/style.css">

  <div class="site-wrap">

    <div class="site-mobile-menu site-navbar-target">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div> <!-- .site-mobile-menu -->


    <!-- NAVBAR -->
    <header class="site-navbar mt-3">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="site-logo col-6"><a href="index.html"></a></div>
          <table>
            <td>
              <button type="submit" onclick="joblist()"
              class="btn btn-primary border-width-2 d-none d-lg-inline-block">View Jobs</button>
            </td>
            <td>
              <button type="submit" onclick="viewmyrequests()" class="btn btn-primary border-width-2 d-none d-lg-inline-block">View
                requests</button>
            </td>
            </table>
          <nav class="mx-auto site-navigation">
      
            <ul class="site-menu js-clone-nav d-none d-xl-block ml-0 pl-0">
              <li><a href="index.html" class="nav-link">Home</a></li>
              <li><a href="about.html">About</a></li>
              <li><a href="contact.html">Contact</a></li>

            </ul>
          </nav>

          <div class="right-cta-menu text-right d-flex aligin-items-center col-6">
            <div class="ml-auto">
              <!-- <a href="login.html" class="btn btn-primary border-width-2 d-none d-lg-inline-block"><span
                  class="mr-2 icon-lock_outline"></span>Log In</a>
              <a href="./signup.html" class="btn btn-primary border-width-2 d-none d-lg-inline-block"><span
                  class="mr-2 icon-lock_outline"></span>Sign Up</a> -->
              <a href="./login.html" class="btn btn-outline-white border-width-2 d-none d-lg-inline-block"><span
                  class="mr-2 icon-add"></span>Log Out </a>
            </div>
            <a href="#" class="site-menu-toggle js-menu-toggle d-inline-block d-xl-none mt-lg-2 ml-3"><span
                class="icon-menu h3 m-0 p-0 mt-2"></span></a>
          </div>

        </div>
      </div>
    </header>

    <!-- HOME -->
    <section class="section-hero overlay inner-page bg-image" style="background-image: url('images/hero_1.jpg');"
      id="home-section">
      <div class="container">
        <div class="row">
          <div class="col-md-7">
            <h1 class="text-white font-weight-bold">User interface</h1>
            <div class="custom-breadcrumbs">
              <a href="./index.html">Home</a> <span class="mx-2 slash"></span>

            </div>
          </div>
        </div>
      </div>
    </section>
    <style>
      .apply-button {
        background-color: #89ba16;
        color: white;
        border: none;
        padding: 8px 16px;
        cursor: pointer;
        border-radius: 4px;
      }

      .apply-button:hover {
        background-color: #89ba16;
      }
    </style>

    <style>
      .search-jobs-form {
        width: 200%;
        /* Set the width of the form container */
        margin-bottom: 20px;
        /* Adjust the margin-bottom as needed */
      }

      .selectpicker {
        width: 200%;
        /* Set the width of the select dropdown */
        height: 40px;
        /* Adjust the height as needed */
        font-size: 16px;
        /* Adjust the font size as needed */
      }
    </style>

</head>

<body>
  <div id="table-container">
    <div id="job-type"></div>
  </div>
  <form method="post" class="search-jobs-form">
    <div class="row mb-8">
      <div class="col-16 col-sm-8 col-md-8 col-lg-6 mb-8 mb-lg-0">
        <table class="center" class="elementcontainer" id="joblist">
          <tr>
            <style>
              .center {
                margin-left: auto;
                margin-right: auto;
              }
            </style>
<!-- 
            <td>
              <button type="submit" onclick="joblist()"
                class="btn btn-primary btn-lg btn-block text-white btn-search">View Jobs</button>
            </td>
            <td>
              <button type="submit" onclick="viewmyrequests()" class="btn btn-primary btn-lg btn-block text-white btn-search">View
                requests</button>
            </td> -->


          </tr>
        </table>

      </div>
    </div>
  </form>
  <style>
    .user-message {
      text-align: center;
      font-size: 24px;
      color: #333;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .bold-heading {
      font-weight: bold;
    }
  </style>
  <h2 class="user-message">Welcome User!</h2>
  <p>Welcome to our User Interface Page!

    We are thrilled to have you here, and on behalf of our entire team, we extend a warm and hearty welcome. At
    Hiresphere, we are passionate about creating exceptional user experiences, and this User Interface page is designed
    with you in mind.

    Discover Seamless Interaction:
    This User Interface page is your gateway to a world of seamless interaction and intuitive design. We've carefully
    crafted every element to ensure that navigating through our platform is not just efficient but also a delight.
    Whether you are a seasoned user or new to our platform, we believe you'll find our User Interface both inviting and
    user-friendly.

    Simplicity Meets Functionality:
    Our design philosophy revolves around simplicity meeting functionality. We believe in minimalism, stripping away any
    unnecessary clutter while presenting powerful features that enhance your experience. With an eye on aesthetics and a
    focus on practicality, we've aimed to strike the perfect balance.

    Your Feedback Matters:
    Your opinion matters greatly to us. We actively encourage you to share your thoughts and suggestions. Your feedback
    will help us continually refine and improve our User Interface page, making it even more intuitive and enjoyable for
    all users.


    Once again, thank you for choosing Hiresphere. We are excited to have you on board, and we hope you'll relish every
    moment spent here. Should you have any questions or need any assistance, don't hesitate to reach out to our
    dedicated support team.

    Happy exploring!

    Best regards,
    The Hiresphere Team</p>
  <section class="site-section">

    <script>
      function searchTable() {
        var input = document.getElementById("seearch").value.toLowerCase();
        var table = document.getElementById("jobs");
        var rows = table.getElementsByTagName("tr");

        for (var i = 1; i < rows.length; i++) {
          var rowData = rows[i].getElementsByTagName("td");
          var found = false;

          for (var j = 0; j < rowData.length; j++) {
            if (rowData[j].innerHTML.toLowerCase().indexOf(input) > -1) {
              found = true;
              break;
            }
          }

          if (found) {
            rows[i].style.display = "";
          } else {
            rows[i].style.display = "none";
          }
        }
      }

      function closeTable() {
        var table = document.getElementById("jobs");
        var rows = table.getElementsByTagName("tr");

        for (var i = 1; i < rows.length; i++) {
          rows[i].style.display = "";
        }
        document.getElementById("seearch").value = "";
      }

      function jobtype() {
        event.preventDefault()
        let data = null
        const xhr = new XMLHttpRequest();
        xhr.withCredentials = true;
        xhr.addEventListener("readystatechange", function () {
          if (this.readyState === this.DONE) {
            console.log(this.responseText);
            const res = JSON.parse(this.responseText);
            var table = '<table id="jobs"> <tr><th>job-type</th><th>job-region</th><th>company-name</th></tr>', element = "";
            if (res.data.length > 0) {
              for (let index = 0; index < res.data.length; index++) {
                element += '<tr><td>' + res.data[index].jobtype + '</td><td>' + res.data[index].jobregion + '</td><td>' + res.data[index].comname + '</td></tr>';
              }
            }
            table += element;
            table += '</table>'
            document.getElementById("jobs").innerHTML = table;
          }
        });
        xhr.open("GET", "http://localhost:3000/viewadmin");
        xhr.setRequestHeader("Accept", "*/*");
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.send(data);
      }
    </script>



    <style>
      body {
        font-family: Arial, sans-serif;
      }

      .joblist {
        border-collapse: collapse;
        width: 100%;
      }

      .joblist th,
      .joblist td {
        padding: 8px;
      }
     

      .joblist th {
        background-color: #f2f2f2;
        text-align: left;
        font-weight: bold;
        /* Added to make the heading bold */
      }

      .joblist tr:nth-child(even) {
        background-color: #f2f2f2;
      }

      .joblist tr:hover {
        background-color: #ddd;
      }

      .delete-button {
        background-color: #dc3545;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 4px;
        cursor: pointer;
      }

      .delete-button:hover {
        background-color: #c82333;
      }

      /* Remove the borders from the table */
      .joblist {
        border: none;
      }

      .joblist th,
      .joblist td {
        border: none;
      }
      
    </style>
<style>
  /* Style for the table container */
#table-container {
  margin-top: 20px;
  border: 1px solid #ccc;
  border-radius: 5px;
  overflow: hidden;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* Style for the table itself */
#joblist {
  width: 100%;
  border-collapse: collapse;
}

#joblist th, #joblist td {
  padding: 10px;
  text-align: left;
  border-bottom: 1px solid #ddd;
}

#joblist th {
  background-color: #f2f2f2;
  font-weight: bold;
}

#joblist tr:nth-child(even) {
  background-color: #f2f2f2;
}

#joblist tr:hover {
  background-color: #ddd;
}

/* Style for the "Apply Now" button column */
#joblist .apply-button {
  background-color: #89ba16;
  color: #fff;
  border: none;
  padding: 8px 12px;
  border-radius: 5px;
  cursor: pointer;
}

#joblist .apply-button:hover {
  background-color: #89ba16;
}

  </style>

    <script>
      let allJobs = [];
      function joblist() {
        event.preventDefault()
        let data = null
        const xhr = new XMLHttpRequest();
        xhr.withCredentials = true;
        xhr.addEventListener("readystatechange", function () {
          if (this.readyState === this.DONE) {
            console.log(this.responseText);
            const res = JSON.parse(this.responseText);
            var table = '<table class="job-type">  <tr><th>job-type</th><th>company-name</th><th>job-region</th><th>Apply Now</th></tr>', element = "";
            if (res.data.length > 0) {
              allJobs = res.data;
              for (let index = 0; index < res.data.length; index++) {
                // Inside the for loop:
                element += '<tr><td>' + res.data[index].jobtype + '</td><td>' + res.data[index].comname
                  + '</td><td>' + res.data[index].jobregion + '</td><td><button class="apply-button" type="button" onclick="applyJob(\'' + res.data[index]._id + '\')">Apply</button></td></tr>';

                // element += '<tr><td>' + res.data[index].jobtype + '</td><td>' + res.data[index].comname
                //     + '</td><td>' + res.data[index].jobregion + '</td><td><button type="submit" onclick=""(' + res.data[index].email + ')>Apply</button></td></tr>';

              }
            }
            table += element;
            table += '</table>'
            document.getElementById("joblist").innerHTML = table;
          }
        });
        xhr.open("GET", "http://localhost:3000/view");
        xhr.setRequestHeader("Accept", "*/*");
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.send(data);
      }
      function applyJob(jid) {
        if (confirm('Are you sure to apply for this job?')) {
          const username = JSON.parse(localStorage.user).fname;
          const id = JSON.parse(localStorage.user)._id;
          const cv = JSON.parse(localStorage.user).cvfile;
          const job = GetJob(jid);

          let data = JSON.stringify({ "user": username, "userid": id, "jobid": jid, "company": job.comname, "jobtype": job.jobtype, "region": job.jobregion, "cv":cv });
          const xhr = new XMLHttpRequest();
          xhr.withCredentials = true;
          xhr.addEventListener("readystatechange", function () {
            if (this.readyState === this.DONE) {
              console.log(this.responseText);
              const res = JSON.parse(this.responseText);
              alert(res.data);
            }
          })
          xhr.open("POST", "http://localhost:3000/addrequest");
          xhr.setRequestHeader("Accept", "*/*");
          xhr.setRequestHeader("Content-Type", "application/json");
          xhr.send(data);
        }
      }
      function GetJob(id) {
        for(job in allJobs){
          if(allJobs[job]._id == id){
            return allJobs[job];
          }
        }
        return {};
      }
      function GetJob(id) {
        for(job in allJobs){
          if(allJobs[job]._id == id){
            return allJobs[job];
          }
        }
        return {};
      }
      function viewmyrequests(){
        event.preventDefault()
        let data = null
        const xhr = new XMLHttpRequest();
        xhr.withCredentials = true;
        xhr.addEventListener("readystatechange", function () {
          if (this.readyState === this.DONE) {
            console.log(this.responseText);
            const res = JSON.parse(this.responseText);
            var table = '<table class="job-type">  <tr><th>job-type</th><th>company-name</th><th>job-region</th><th>Status</th></tr>', element = "";
            if (res.data.length > 0) {
              for (let index = 0; index < res.data.length; index++) {
                // Inside the for loop:
                element += '<tr><td>' + res.data[index].jobtype + '</td><td>' + res.data[index].company
                  + '</td><td>' + res.data[index].region + '</td><td>'+res.data[index].status+'</td></tr>';

              }
            }
            table += element;
            table += '</table>'
            document.getElementById("joblist").innerHTML = table;
          }
        });
        xhr.open("GET", "http://localhost:3000/viewuserrequest?userId="+JSON.parse(localStorage.user)._id);
        xhr.setRequestHeader("Accept", "*/*");
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.send(data);
      }
    </script>
  </section>







  <footer class="site-footer">


    <div class="container">
      <div class="row mb-5">
        <div class="col-6 col-md-3 mb-4 mb-md-0">
          <h3></h3>
          <ul class="list-unstyled">
            <li><a href="contact.html">Contact Us</a></li>

          </ul>
        </div>
        <div class="col-6 col-md-3 mb-4 mb-md-0">
          <h3></h3>
          <ul class="list-unstyled">
            <li><a href="index.html">Home</a></li>

          </ul>
        </div>
        <div class="col-6 col-md-3 mb-4 mb-md-0">
          <h3></h3>
          <ul class="list-unstyled">
            <li><a href="about.html">About Us</a></li>

          </ul>
        </div>

      </div>
    </div>

    <div class="row text-center">
      <div class="col-12">
        <p class="copyright"><small>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            Copyright &copy;
            <script>document.write(new Date().getFullYear());</script> All rights reserved
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
          </small></p>
      </div>
    </div>
    </div>
  </footer>

  </div>

  <!-- SCRIPTS -->
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/isotope.pkgd.min.js"></script>
  <script src="js/stickyfill.min.js"></script>
  <script src="js/jquery.fancybox.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>

  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>

  <script src="js/bootstrap-select.min.js"></script>

  <script src="js/custom.js"></script>


</body>

</html>